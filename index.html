<!-- Support Formular -->
<section id="support">
  <form id="supportForm">
    <h2>Support kontaktieren</h2>
    <label for="name">Name</label>
    <input type="text" id="name" name="name" required placeholder="Dein Name" />
    <label for="email">E-Mail</label>
    <input type="email" id="email" name="email" required placeholder="Deine E-Mail" />
    <label for="message">Nachricht</label>
    <textarea id="message" name="message" rows="5" required placeholder="Deine Nachricht"></textarea>
    <button type="submit">Absenden</button>
  </form>

  <div id="msg" class="chat-box"></div>
</section>

<style>
  /* Chat-Kästchen Style */
  .chat-box {
    max-width: 600px;
    margin: 1rem auto 3rem;
    padding: 1rem 1.2rem;
    border-radius: 16px;
    font-weight: 600;
    font-size: 1rem;
    max-width: 100%;
    word-wrap: break-word;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
  }
  .chat-box.success {
    background-color: #d4edda;
    color: #155724;
    border: 1.5px solid #c3e6cb;
  }
  .chat-box.error {
    background-color: #f8d7da;
    color: #721c24;
    border: 1.5px solid #f5c6cb;
  }
</style>

<script>
  const form = document.getElementById('supportForm');
  const msgDiv = document.getElementById('msg');

  form.addEventListener('submit', e => {
    e.preventDefault();

    const name = form.name.value.trim();
    const email = form.email.value.trim();
    const message = form.message.value.trim();

    if (!name || !email || !message) {
      msgDiv.textContent = 'Bitte alle Felder ausfüllen.';
      msgDiv.className = 'chat-box error';
      return;
    }

    const webhookURL = 'https://discord.com/api/webhooks/1393936108143775855/3G0ANiz7oKTj8_njmCLfPq8wVMxTk5pJ05uU4v0OpyPgM29QAj2uIge4v2N_wwfwvaKv';

    const payload = {
      content: `**Support-Anfrage:**\nName: ${name}\nEmail: ${email}\nNachricht:\n${message}`
    };

    fetch(webhookURL, {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify(payload),
    }).then(res => {
      if (res.ok) {
        msgDiv.textContent = '✅ Nachricht erfolgreich gesendet!';
        msgDiv.className = 'chat-box success';
        form.reset();
      } else {
        throw new Error('Fehler beim Senden.');
      }
    }).catch(() => {
      msgDiv.textContent = '❌ Fehler beim Senden. Bitte später erneut versuchen.';
      msgDiv.className = 'chat-box error';
    });
  });
</script>
